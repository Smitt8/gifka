{"version":3,"file":"main.js","mappings":"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","sources":["webpack://gifka/./src/components/api.js","webpack://gifka/./src/components/SearchForm.js","webpack://gifka/./src/components/Form.js","webpack://gifka/./src/components/Section.js","webpack://gifka/./src/components/Gif.js","webpack://gifka/./src/components/TabMenu.js","webpack://gifka/./src/utils/consts.js","webpack://gifka/./src/components/Tab.js","webpack://gifka/./src/pages/index.js"],"sourcesContent":["export default class Api {\n  constructor({url, token}) {\n    this._url = `https://${url}/v1/gifs`;\n    this._token = token;\n\n    this._headers =  {\n      \"Content-type\": \"application/json\"\n    }\n  }\n\n  _checkResult(result) {\n    if (result.ok) {\n      return result.json();\n    }\n    return Promise.reject(`Ошибка --> ${result.statusText}`);\n  }\n\n  loadTrending = () => {\n    return fetch(`${this._url}/trending?api_key=${this._token}&limit=25`, {\n      headers: this._headers,\n    })\n    .then(result => {\n      return this._checkResult(result);\n    });\n  };\n\n  searchGifs = (query) => {\n    return fetch(`${this._url}/search?api_key=${this._token}&q=${query}&limit=25`, {\n      headers: this._headers,\n    })\n    .then(result => {\n      return this._checkResult(result);\n    })\n  };\n\n  getRandom = () => {\n    return fetch(`${this._url}/random?api_key=${this._token}`, {\n    headers: this._headers,\n  })\n  .then(result => {\n    return this._checkResult(result);\n  })\n  }\n}\n","import Form from \"./Form.js\";\n\nexport default class SearchForm extends Form {\n  constructor({ formSelector, inputSelector, resetSelector, activeResetClass, submitButtonSelector, inactiveButtonClass}, handleSubmit) {\n    super({ formSelector, inputSelector, resetSelector }, handleSubmit);\n    this._activeResetClass = activeResetClass;\n\n    this._submitButtonSelector = submitButtonSelector;\n    this._button = this._form.querySelector(this._submitButtonSelector);\n  }\n\n  _toggleReset() {\n    this._reset.classList.toggle(\n      this._activeResetClass,\n      this._form.checkValidity()\n    );\n  }\n\n  _resetForm() {\n    super._resetForm();\n    this._toggleReset();\n  }\n\n  buttonSubmitState = () => {\n    this._button.disabled = !this._form.checkValidity();\n\n  };\n\n\n  setEventsListeners() {\n    super.setEventsListeners();\n    this._form.addEventListener(\"input\", () => {\n      this._toggleReset();\n    })\n  }\n}\n","export default class Form {\n  constructor({ formSelector, inputSelector, resetSelector }, handleSubmit) {\n    this._form = document.querySelector(formSelector);\n\n    this._reset = this._form.querySelector(resetSelector);\n    this._inputs = Array.from(this._form.querySelectorAll(inputSelector));\n\n    this._handleSubmit = handleSubmit;\n  }\n\n  _getInputsValues() {\n    this._values = {};\n\n    this._inputs.forEach(input => {\n      this._values[input.name] = input.value;\n    });\n\n    return this._values\n  }\n\n  _resetForm() {\n    this._form.reset();\n  }\n\n  setEventsListeners() {\n    this._form.addEventListener('submit', event => {\n      this._handleSubmit(event, this._getInputsValues());\n    });\n    this._reset.addEventListener('click', () => {\n      this._resetForm();\n    })\n  }\n}\n","export default class Section {\r\n  constructor(renderer, containerSelector) {\r\n    this._renderer = renderer;\r\n    this._container = document.querySelector(containerSelector);\r\n  }\r\n\r\n  addItem(element) {\r\n    this._container.prepend(element);\r\n  }\r\n\r\n  renderItems(arrayItems) {\r\n    arrayItems.forEach(item => {\r\n      this._renderer(item);\r\n    });\r\n  }\r\n\r\n  free() {\r\n    while (this._container.firstChild) {\r\n      this._container.removeChild(this._container.firstChild);\r\n    }\r\n  }\r\n  \r\n}\r\n","export default class Gif {\n  constructor(link, templateSelector) {\n    this._link = link;\n    this._templateSelector = templateSelector;\n  }\n\n  _getTemplate() {\n    return document\n      .querySelector(this._templateSelector).content.querySelector('.animation-images__item').cloneNode(true);\n  }\n\n  generateItem() {\n    this._element = this._getTemplate();\n    this._itemImage = this._element.querySelector(\".gif\");\n    this._itemImage.src = this._link;\n\n    return this._element;\n  }\n}\n","export default class TabMenu {\r\n  constructor(tabSelector, handleClick) {\r\n    this._tabSelector = document.querySelector(tabSelector);\r\n    this._handleClick = handleClick;\r\n  }\r\n\r\n  _handlerClick () {\r\n    this._handleClick();\r\n    this.select()\r\n  }\r\n\r\n  select() {\r\n    this._tabSelector.classList.add('tab-item_selected');\r\n  };\r\n\r\n  drop() {\r\n    this._tabSelector.classList.remove('tab-item_selected');\r\n  }\r\n\r\n  setEventsListeners() {\r\n    this._tabSelector.addEventListener('click', () => {\r\n      this._handlerClick();\r\n    });\r\n  }\r\n}\r\n","export const giphyConfig = {\n  url: \"api.giphy.com\",\n  token: \"Q0QCYBXGQAPMAZ0TQGE7d91ZammEhL08\"\n};\n\nexport const searchConfig = {\n  tabSelector: \".tab_type_search\",\n  formSelector: \".search\",\n  inputSelector: \".search__input\",\n  resetSelector: \".search__reset\",\n  activeResetClass: \"search__reset_enabled\",\n  tabEnableClass: \"tab_enabled\",\n  submitButtonSelector: \".search__submit\",\n  inactiveButtonClass: 'search__submit_disabled'\n};\n\nexport const  gifsConfig = {\n  tabSelector: \".tab_type_gifs\",\n  tabEnableClass: \"tab_enabled\",\n};\n\n\n","export default class Tab {\r\n  constructor({ tabSelector, tabEnableClass}) {\r\n    this._tab  = document.querySelector(tabSelector);\r\n    this._tabEnableClass = tabEnableClass;\r\n\r\n  }\r\n\r\n  open() {\r\n    this._tab.classList.add(this._tabEnableClass);\r\n  }\r\n\r\n  close() {\r\n    this._tab.classList.remove(this._tabEnableClass);\r\n  }\r\n  \r\n}","import \"./index.css\";\n\n\nimport Api from \"../components/api.js\";\nimport SearchForm from \"../components/SearchForm.js\";\n\nimport Section from \"../components/Section.js\";\nimport Gif from \"../components/Gif.js\";\nimport TabMenu from \"../components/TabMenu.js\";\n\nimport {\n  gifsConfig,\n  giphyConfig,\n  searchConfig\n} from \"../utils/consts.js\"\nimport Tab from \"../components/Tab.js\";\n\nconst api = new Api(giphyConfig);\n\nconst searchForm = new SearchForm(searchConfig, handleSearchGif);\n\n\nfunction addGif(link) {\n  const giphy = new Gif(link, '#template-item');\n  return giphy.generateItem();\n}\n\n\nconst listContainer = new Section((giphy) => {\n  listContainer.addItem(addGif(giphy.link));\n}, \".animation-images__list\");\n\n/**\n *\n * @param {Event} event\n * @param {*} inputs\n */\n\nfunction handleSearchGif(event, values) {\n  event.preventDefault();\n  api.searchGifs(values[\"search-query\"])\n  .then( giphy => {\n    giphy.data.forEach(item => {\n      listContainer.addItem(addGif(`https://media1.giphy.com/media/${item.id}/giphy.gif`));\n    });\n  })\n  .catch(err => {\n    console.log(err);\n  })\n}\n\nfunction handleTrendGif() {\n  api.loadTrending()\n    .then( giphy => {\n      giphy.data.forEach(item => {\n        listContainer.addItem(addGif(`https://media1.giphy.com/media/${item.id}/giphy.gif`));\n      });\n    })\n    .catch(err => {\n      console.log(err);\n    })\n}\n\nfunction handleRandom() {\n  api.getRandom()\n    .then( objData => {\n      listContainer.addItem(addGif(`https://media1.giphy.com/media/${objData.data.id}/giphy.gif`));\n    })\n    .catch(err => {\n      console.log(err);\n    })\n}\n\n\n\nsearchForm.setEventsListeners();\n\n\n\nconst btnRandom = new TabMenu('.tab-item_random',  btnRandomClick);\nconst btnSearch = new TabMenu('.tab-item-search',  btnSearchClick);\nconst btnNew = new TabMenu('.tab-item-new',  btnSearchClick);\nconst btnTrends = new TabMenu('.tab-item-trend',  btnTrendsClick);\n\nconst tabSearch = new Tab(searchConfig);\nconst tabGifs = new Tab(gifsConfig);\n\nfunction dropSelectedMenu() {\n  document.querySelector('.tab-item_selected').classList.remove(\"tab-item_selected\");\n}\n\nfunction btnRandomClick() {\n  listContainer.free();\n\n  for (let i = 0; i < 5; i++) {\n    handleRandom();\n  }\n\n  dropSelectedMenu();\n  tabSearch.close();\n  tabGifs.open();\n}\n\nfunction btnSearchClick() {\n  listContainer.free();\n  dropSelectedMenu();\n  tabSearch.open();\n  tabGifs.open();\n}\nfunction btnTrendsClick() {\n  listContainer.free();\n  dropSelectedMenu();\n  tabSearch.close();\n  tabGifs.open();\n  handleTrendGif();\n}\n\ntabSearch.open();\ntabGifs.open();\nbtnSearch.select();\n\nbtnRandom.setEventsListeners();\nbtnSearch.setEventsListeners();\nbtnNew.setEventsListeners();\nbtnTrends.setEventsListeners();\n\n\n// --- добавить в  класс FORM\n\nconst fieldConstant = document.getElementById(\"field-constant\");\nconst  searchInput = document.querySelector('.search__input');\n\nfieldConstant.onmouseover = fieldConstant.onmouseout = handler;\n\nfunction handler(event) {\n  if (event.type === 'mouseover') {\n    searchInput.classList.add('search__input_hover');\n    fieldConstant.classList.add('field-constant_hover');\n  }\n  if (event.type === 'mouseout') {\n      searchForm._resetForm();\n      searchInput.classList.remove('search__input_hover');\n      fieldConstant.classList.remove('field-constant_hover');\n  }\n}\n\n\n"],"names":["Api","url","token","fetch","_url","_token","headers","_headers","then","result","_checkResult","query","this","ok","json","Promise","reject","statusText","SearchForm","handleSubmit","formSelector","inputSelector","resetSelector","activeResetClass","submitButtonSelector","inactiveButtonClass","_button","disabled","_form","checkValidity","_activeResetClass","_submitButtonSelector","querySelector","_reset","classList","toggle","_toggleReset","addEventListener","Form","document","_inputs","Array","from","querySelectorAll","_handleSubmit","_values","forEach","input","name","value","reset","event","_getInputsValues","_resetForm","Section","renderer","containerSelector","_renderer","_container","element","prepend","arrayItems","item","firstChild","removeChild","Gif","link","templateSelector","_link","_templateSelector","content","cloneNode","_element","_getTemplate","_itemImage","src","TabMenu","tabSelector","handleClick","_tabSelector","_handleClick","select","add","remove","_handlerClick","searchConfig","tabEnableClass","Tab","_tab","_tabEnableClass","api","searchForm","values","preventDefault","searchGifs","giphy","data","listContainer","addItem","addGif","id","err","console","log","generateItem","setEventsListeners","btnRandom","free","i","getRandom","objData","dropSelectedMenu","tabSearch","close","tabGifs","open","btnSearch","btnSearchClick","btnNew","btnTrends","loadTrending","fieldConstant","getElementById","searchInput","onmouseover","onmouseout","type"],"sourceRoot":""}